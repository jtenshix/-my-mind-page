<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Notas</title>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
  <script>
    // Tu configuración de Firebase
    const firebaseConfig = {
      apiKey: "TU_API_KEY",
      authDomain: "TU_AUTH_DOMAIN",
      projectId: "TU_PROJECT_ID",
      storageBucket: "TU_STORAGE_BUCKET",
      messagingSenderId: "TU_SENDER_ID",
      appId: "TU_APP_ID"
    };

    // Inicializa Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore(app);

    // Función para mostrar las notas guardadas en Firebase
    function mostrarNotas() {
      const notaDisplay = document.getElementById('notaDisplay');
      db.collection('notas').get()
        .then(snapshot => {
          snapshot.forEach(doc => {
            const nota = doc.data().nota;
            const newNote = document.createElement('p');
            newNote.textContent = nota;
            notaDisplay.appendChild(newNote);
          });
        })
        .catch((error) => {
          console.error('Error al obtener las notas: ', error);
        });
    }

    // Función para guardar la nota
    function guardarNota() {
      const notaInput = document.getElementById('notaInput');
      const nota = notaInput.value;

      if (nota.trim() !== '') {
        // Muestra la nota en la página
        const notaDisplay = document.getElementById('notaDisplay');
        const newNote = document.createElement('p');
        newNote.textContent = nota;
        notaDisplay.appendChild(newNote);

        // Guarda la nota en Firebase
        db.collection('notas').add({
          nota: nota
        })
        .then(() => {
          console.log('Nota guardada en Firebase');
          notaInput.value = '';  // Limpia el campo de texto después de guardar
        })
        .catch((error) => {
          console.error('Error al guardar la nota: ', error);
        });
      }
    }

    // Mostrar las notas cuando cargue la página
    window.onload = function() {
      mostrarNotas();
    }
  </script>
</head>
<body>
  <h1>Notas</h1>
  <textarea id="notaInput" placeholder="Escribe tu nota aquí..."></textarea>
  <button onclick="guardarNota()">Guardar Nota</button>
  <div id="notaDisplay"></div> <!-- Aquí se mostrarán las notas -->
</body>
</html>
