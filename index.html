<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Mapa Mental</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }

        #mind-map {
            position: relative;
            width: 80%;
            height: 80%;
            border: 1px solid #ccc;
            background-color: #fff;
            overflow: hidden;
        }

        .node {
            position: absolute;
            width: 100px;
            height: 100px;
            background-color: #ffcc00;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            user-select: none;
        }

        .connection {
            position: absolute;
            background-color: #000;
            height: 2px;
        }

        #add-button {
            position: absolute;
            top: 20px;
            left: 20px;
            width: 40px;
            height: 40px;
            background-color: #4CAF50;
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-size: 24px;
        }
    </style>
</head>
<body>
    <div id="mind-map">
        <div id="add-button">+</div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const mindMap = document.getElementById('mind-map');
            const addButton = document.getElementById('add-button');

            // Crear un nodo
            function createNode(x, y, text) {
                const node = document.createElement('div');
                node.classList.add('node');
                node.style.left = `${x}px`;
                node.style.top = `${y}px`;
                node.innerText = text;
                node.draggable = true;

                node.addEventListener('dragstart', dragStart);
                node.addEventListener('dragover', dragOver);
                node.addEventListener('drop', drop);

                mindMap.appendChild(node);
            }

            // Eventos de arrastrar y soltar
            function dragStart(event) {
                event.dataTransfer.setData('text/plain', null);
            }

            function dragOver(event) {
                event.preventDefault();
            }

            function drop(event) {
                event.preventDefault();
                const target = event.target;
                if (target && target.classList.contains('node')) {
                    // Aquí puedes agregar lógica para conectar nodos
                }
            }

            // Crear nodos iniciales
            createNode(100, 100, 'Idea 1');
            createNode(300, 300, 'Idea 2');

            // Crear conexiones (esto es un ejemplo básico)
            function createConnection(nodeA, nodeB) {
                const rectA = nodeA.getBoundingClientRect();
                const rectB = nodeB.getBoundingClientRect();

                const x1 = rectA.left + rectA.width / 2;
                const y1 = rectA.top + rectA.height / 2;
                const x2 = rectB.left + rectB.width / 2;
                const y2 = rectB.top + rectB.height / 2;

                const length = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);
                const angle = Math.atan2(y2 - y1, x2 - x1);

                const connection = document.createElement('div');
                connection.classList.add('connection');
                connection.style.width = `${length}px`;
                connection.style.transform = `rotate(${angle}rad)`;
                connection.style.left = `${x1}px`;
                connection.style.top = `${y1}px`;

                mindMap.appendChild(connection);
            }

            // Conectar nodos iniciales
            const nodes = document.querySelectorAll('.node');
            createConnection(nodes[0], nodes[1]);

            // Agregar un nuevo nodo al hacer clic en el botón "+"
            addButton.addEventListener('click', () => {
                const newNodeText = prompt('Ingresa el texto para el nuevo nodo:');
                if (newNodeText) {
                    createNode(Math.random() * 500, Math.random() * 500, newNodeText);
                }
            });
        });
    </script>
</body>
</html>
